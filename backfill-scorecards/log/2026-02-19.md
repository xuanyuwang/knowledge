# Project Log - 2026-02-19

## Progress

- Reorganized project: moved previous Jan 2026 all-clusters backfill artifacts into `jan-2026-all-clusters/`
- Created `mutualofomaha-jan-feb-2026/` subfolder for new backfill
- Created general-purpose `backfill.sh` script (accepts cluster, customers, date range as args)
- Starting backfill for Mutual of Omaha (`mutualofomaha`, `mutualofomaha-sandbox`) on `voice-prod` from 2026-01-01 to 2026-02-19

## Details

### Backfill Parameters

| Parameter | Value |
|-----------|-------|
| Cluster | voice-prod |
| Customer IDs | `mutualofomaha,mutualofomaha-sandbox` |
| Date range | 2026-01-01 to 2026-02-20 |
| Volume | Low/Medium |

### Command

```bash
./backfill.sh voice-prod "mutualofomaha,mutualofomaha-sandbox" 2026-01-01 2026-02-20
```

### Steps Taken

1. Initial single backfill job created: `batch-reindex-mutualofom-20260101-20260220-1771552644`
2. Investigated PR [#25653](https://github.com/cresta/go-servers/pull/25653) — filters `readScorecards` to exclude appeal request scorecards during reindex. Reindex only INSERTs (no DELETE), so old appeal data would linger in ClickHouse.
3. Deleted existing ClickHouse scorecard data in the date range before backfilling:
   - `mutualofomaha_voice.scorecard`: 330,294 rows deleted
   - `mutualofomaha_voice.score`: 2,881,300 rows deleted
   - `scorecard_score`: 0 rows (already empty)
   - medsupp and sandbox databases had 0 rows
4. Re-ran backfill as 5 parallel 10-day jobs:

| Job | Range | Job Name |
|-----|-------|----------|
| 1 | Jan 01–10 | `batch-reindex-mutualofom-20260101-20260111-1771553963` |
| 2 | Jan 11–20 | `batch-reindex-mutualofom-20260111-20260121-1771553966` |
| 3 | Jan 21–30 | `batch-reindex-mutualofom-20260121-20260131-1771553968` |
| 4 | Jan 31–Feb 09 | `batch-reindex-mutualofom-20260131-20260210-1771553970` |
| 5 | Feb 10–19 | `batch-reindex-mutualofom-20260210-20260220-1771553972` |

### Results

| Table | Before Delete | After Backfill | Delta (appeal scorecards removed) |
|-------|--------------|----------------|-----------------------------------|
| `scorecard` | 330,294 | 298,791 | -31,503 |
| `score` | 2,881,300 | 2,609,114 | -272,186 |
| `scorecard_score` | 0 | 0 | — |

All 15 Temporal workflows (5 jobs × 3 profiles) completed successfully.
Total wall time: ~27 minutes (21:23 – 21:50).

### Status

- [x] ClickHouse data deleted
- [x] 5 parallel backfill jobs created
- [x] All workflows completed
