# Project Log - 2026-02-09

## Progress

- Created project and git worktree on branch `clean-up-feature-flags-skill`
- Scanned all coaching service code for feature flags (18 envflags found)
- Cross-referenced with flux-deployments to get prod cluster values across 8 clusters
- Classified flags into cleanable / not-cleanable / config-tuning categories
- Created [flag-inventory.md](../flag-inventory.md) with full analysis

## Details

### Scan Results

- All flags use `envflag` package — no raw `os.Getenv` usage
- Config service (`config.Client`) is used in coaching but only for customer-level settings (ACL, profile config), not feature flags
- flux-deployments has base HelmReleases per release track (prod-early, prod-main) and per-cluster patches

### Cleanable Flags Identified

**Uniformly enabled (hardcode `true`, remove flag):**
1. `COACHING_SERVICE_ENABLE_SYNC_HISTORIC_SCORECARD_WRITE`
2. `ENABLE_EVALUATION_PERIOD_END_TIME`
3. `ENABLE_ON_FLY_TARGET_QA_SCORE`

**Uniformly disabled/default (remove flag + dead code):**
4. `DISABLE_APPEAL_NOTIFICATIONS`
5. `COACHING_SERVICE_OVERRIDDEN_SESSION_NOTE_FORMAT`
6. `EXPORT_COACHING_OVERVIEWS_VERBOSE_LOG`

### Not Cleanable (varies by cluster)
- `COACHING_VERBOSE_LOG` — us-west-2-prod has it on
- `COACHING_SERVICE_PAGINATED_QUERY` — voice-prod has it on
- `ENABLE_OUTCOME_TARGETS` — voice-prod has it on

### Skill Created

Created Claude Code skill at `go-servers/.claude/skills/clean-up-feature-flags/SKILL.md` on branch `clean-up-feature-flags-skill`. The skill covers:
- How to scan a service for envflag declarations
- How to cross-reference with flux-deployments for prod values
- Classification system (A: uniformly enabled, B: uniformly disabled, C: varies, D: config tuning)
- Step-by-step cleanup implementation (code + deployment)
- Verification checklist
