# Project Log - 2026-02-17

## Progress

- Verified PR #25733 review comments via GitHub API
- Cherry-picked bugbot autofix (`c92bb28308` → `59999495a5`) to fix "Dynamic group filters drop team aggregates"
- Restored customer profile filtering comment that was dropped during FetchGroups → shared.ListGroups refactor (`1efbf2ee26`)
- Updated `pr-25733-review.md` with findings and resolution status

## Details

### Bugbot fix: Dynamic group filters drop team aggregates

`shared.ListGroups` requests both `Group_TEAM` and `Group_DYNAMIC_GROUP` types. The original code built `groupNames` from all returned groups without filtering, so selecting a dynamic group would populate `groupNames` with dynamic group names. The `slices.Contains(groupNames, groupName)` gate in the membership loop would then fail for all team memberships, leaving `GroupsToAggregate` empty.

**Fix:** Filter `groupNames` to only include `userpb.Group_TEAM` type groups. When only dynamic groups are filtered, `groupNames` is empty, and the `len(groupNames) == 0` fallback correctly includes all team memberships.

### Restored comment

The original `FetchGroups` code had a comment about holidayinn-transfers-voice cross-profile group ownership (added 10/08/2024). This context is still relevant since `shared.ListGroups` filters by `CustomerProfiles` internally for the same reason. Restored in commit `1efbf2ee26`.

### PR branch commits (4 total)

1. `1063cba337` — Initial fix: FetchGroups → shared.ListGroups
2. `959afdb124` — Update B_GH_4 test for child expansion
3. `59999495a5` — Bugbot fix: filter groupNames by TEAM type
4. `1efbf2ee26` — Restore customer profile filtering comment
